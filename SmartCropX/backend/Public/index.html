<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartCropX - AI-Powered Farming Marketplace</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Authentication Screen -->
    <div id="authScreen" class="auth-container">
        <div class="auth-header">
            <h1>SmartCropX</h1>
            <p>AI-Powered Farming Marketplace</p>
        </div>
        
        <div id="loginForm">
            <div class="auth-form">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" class="form-control" placeholder="Enter your username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
                </div>
                <button class="auth-btn" onclick="login()">
                    <span class="btn-text">Sign In</span>
                    <span class="btn-loading hidden"><i class="fas fa-spinner fa-spin"></i> Signing in...</span>
                </button>
            </div>
            <div class="auth-switch">
                Don't have an account? <a href="#" onclick="showSignup()">Sign Up</a>
            </div>
        </div>
        
        <div id="signupForm" class="hidden">
            <div class="auth-form">
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" class="form-control" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" class="form-control" placeholder="Enter your age" min="18" max="100" required>
                </div>
                <div class="form-group">
                    <label for="region">Region</label>
                    <input type="text" id="region" class="form-control" placeholder="Enter your region" required>
                </div>
                <div class="form-group">
                    <label>User Type</label>
                    <div class="user-type-selector">
                        <div class="user-type-option" onclick="selectUserType(this, 'buyer')">Buyer</div>
                        <div class="user-type-option" onclick="selectUserType(this, 'seller')">Seller</div>
                        <div class="user-type-option" onclick="selectUserType(this, 'both')">Both</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="signupUsername">Username</label>
                    <input type="text" id="signupUsername" class="form-control" placeholder="Choose a username" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" class="form-control" placeholder="Create a password (min. 6 characters)" required>
                </div>
                <button class="auth-btn" onclick="signup()">
                    <span class="btn-text">Create Account</span>
                    <span class="btn-loading hidden"><i class="fas fa-spinner fa-spin"></i> Creating account...</span>
                </button>
            </div>
            <div class="auth-switch">
                Already have an account? <a href="#" onclick="showLogin()">Sign In</a>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="appScreen" class="app-container hidden">
        <!-- Header -->
        <div class="header">
            <h1>SmartCropX</h1>
            <div class="header-actions">
                <div class="cart-icon" onclick="showCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" style="display: none">0</span>
                </div>
                <div class="notification-icon" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">0</span>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <div class="tab active" onclick="switchTab('feed')">Feed</div>
            <div class="tab" onclick="switchTab('map')">Map</div>
            <div class="tab" onclick="switchTab('agroInputs')">Agro Inputs</div>
            <div class="tab" onclick="switchTab('aiHelper')">AI Helper</div>
            <div class="tab" onclick="switchTab('online')">Online</div>
            <div class="tab" onclick="switchTab('messages')">Messages</div>
            <div class="tab" onclick="switchTab('profile')">Profile</div>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- Feed Tab -->
            <div id="feedTab" class="tab-content">
                <div class="search-filter-bar">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="productSearch" placeholder="Search products..." onkeyup="filterProducts()">
                    </div>
                    <select id="categoryFilter" onchange="filterProducts()">
                        <option value="">All Categories</option>
                        <option value="vegetables">Vegetables</option>
                        <option value="fruits">Fruits</option>
                        <option value="grains">Grains</option>
                        <option value="dairy">Dairy</option>
                    </select>
                </div>
                <div class="feed">
                    <!-- Products will load here -->
                </div>
            </div>

            <!-- Map Tab -->
            <div id="mapTab" class="tab-content hidden">
                <div class="map-container">
                    <div class="map-placeholder">
                        <i class="fas fa-map-marked-alt"></i>
                        <p>Farmers in Your Area</p>
                        <small>Click on seller pins to view details</small>
                    </div>
                </div>
            </div>

            <!-- Agro Inputs Tab -->
            <div id="agroInputsTab" class="tab-content hidden">
                <!-- Content loaded by JavaScript -->
            </div>

            <!-- AI Helper Tab -->
            <div id="aiHelperTab" class="tab-content hidden">
                <!-- Content loaded by JavaScript -->
            </div>

            <!-- Online Users Tab -->
            <div id="onlineUsersTab" class="tab-content hidden">
                <!-- Content loaded by JavaScript -->
            </div>

            <!-- Messages Tab -->
            <div id="messagesTab" class="tab-content hidden">
                <div class="profile-section">
                    <h3>Recent Conversations</h3>
                    <p style="text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-comments" style="font-size: 48px; margin-bottom: 16px; display: block;"></i>
                        Your messages will appear here
                    </p>
                </div>
            </div>

            <!-- Profile Tab -->
            <div id="profileTab" class="tab-content hidden">
                <div class="profile-header">
                    <div class="profile-avatar" id="mainProfileAvatar">ðŸ‘¤</div>
                    <div class="profile-info">
                        <h2 id="mainProfileName">Loading...</h2>
                        <p id="mainProfileDetails">Loading...</p>
                        <span class="user-type" id="mainProfileType">Loading...</span>
                    </div>
                </div>

                <div class="profile-section">
                    <div class="section-header">
                        <h3>My Products</h3>
                        <button class="add-product-btn" onclick="showAddProductForm()">Add Product</button>
                    </div>
                    <div class="my-products-grid">
                        <!-- Products will load here -->
                    </div>
                </div>

                <div class="profile-section">
                    <div class="section-header">
                        <h3>Account Settings</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <button class="btn btn-offer" onclick="showEditProfileForm()">Edit Profile & Picture</button>
                        <button class="btn btn-offer" onclick="showChangePasswordForm()">Change Password</button>
                        <button class="btn btn-buy" onclick="logout()">Logout</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="switchTab('feed')">
                <i class="fas fa-home"></i>
                <span>Feed</span>
            </div>
            <div class="nav-item" onclick="switchTab('map')">
                <i class="fas fa-map"></i>
                <span>Map</span>
            </div>
            <div class="nav-item" onclick="switchTab('agroInputs')">
                <i class="fas fa-seedling"></i>
                <span>Agro Inputs</span>
            </div>
            <div class="nav-item" onclick="switchTab('aiHelper')">
                <i class="fas fa-robot"></i>
                <span>AI Helper</span>
            </div>
            <div class="nav-item" onclick="switchTab('profile')">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>